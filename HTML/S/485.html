<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>isisd/trilld.h</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.4' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP'></a><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/1018.html'>isisd</a>/trilld.h</h2>
<em class='comment'>/* [&lt;][&gt;][^][v][top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
<hr />
<h2 class='header'><a href='../J/165.html' title='Multiple included from 8 places.'>INCLUDED FROM</a></h2>
<hr />
<pre>
<a id='L1' name='L1'></a><em class='comment'>/*</em>
<a id='L2' name='L2'></a><em class='comment'> * IS-IS Rout(e)ing protocol - trill.h</em>
<a id='L3' name='L3'></a><em class='comment'> *</em>
<a id='L4' name='L4'></a><em class='comment'> * Copyright 2009 Sun Microsystems, Inc.  All rights reserved.</em>
<a id='L5' name='L5'></a><em class='comment'> * modified by gandi.net</em>
<a id='L6' name='L6'></a><em class='comment'> * This program is free software; you can redistribute it and/or modify it</em>
<a id='L7' name='L7'></a><em class='comment'> * under the terms of the GNU General Public Licenseas published by the Free</em>
<a id='L8' name='L8'></a><em class='comment'> * Software Foundation; either version 2 of the License, or (at your option)</em>
<a id='L9' name='L9'></a><em class='comment'> * any later version.</em>
<a id='L10' name='L10'></a><em class='comment'> *</em>
<a id='L11' name='L11'></a><em class='comment'> * This program is distributed in the hope that it will be useful,but WITHOUT</em>
<a id='L12' name='L12'></a><em class='comment'> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</em>
<a id='L13' name='L13'></a><em class='comment'> * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</em>
<a id='L14' name='L14'></a><em class='comment'> * more details.</em>
<a id='L15' name='L15'></a><em class='comment'></em>
<a id='L16' name='L16'></a><em class='comment'> * You should have received a copy of the GNU General Public License along</em>
<a id='L17' name='L17'></a><em class='comment'> * with this program; if not, write to the Free Software Foundation, Inc.,</em>
<a id='L18' name='L18'></a><em class='comment'> * 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</em>
<a id='L19' name='L19'></a><em class='comment'> */</em>
<a id='L20' name='L20'></a><em class='sharp'>#ifndef</em> <a href='../S/485.html#L21' title='Defined at 21 in isisd/trilld.h.'>_ZEBRA_ISIS_TRILL_H</a>
<a id='L21' name='L21'></a><em class='sharp'>#define</em> <a href='../S/485.html#L20' title='Referred from 20 in isisd/trilld.h.'>_ZEBRA_ISIS_TRILL_H</a>
<a id='L22' name='L22'></a>
<a id='L23' name='L23'></a><em class='comment'>/* Nickname range */</em>
<a id='L24' name='L24'></a><em class='sharp'>#define</em> <a href='../R/3075.html' title='Multiple referred from 2 places.'>RBRIDGE_NICKNAME_MIN</a>            0x0000
<a id='L25' name='L25'></a><em class='sharp'>#define</em> <a href='../R/3074.html' title='Multiple referred from 5 places.'>RBRIDGE_NICKNAME_MAX</a>            0xFFFF
<a id='L26' name='L26'></a><em class='comment'>/* Define well-known nicknames */</em>
<a id='L27' name='L27'></a><em class='sharp'>#define</em> <a href='../R/3077.html' title='Multiple referred from 19 places.'>RBRIDGE_NICKNAME_NONE</a>           <a href='../S/485.html#L24' title='Defined at 24 in isisd/trilld.h.'>RBRIDGE_NICKNAME_MIN</a>
<a id='L28' name='L28'></a><em class='sharp'>#define</em> <a href='../R/3076.html' title='Multiple referred from 4 places.'>RBRIDGE_NICKNAME_MINRES</a>         0xFFC0
<a id='L29' name='L29'></a><em class='sharp'>#define</em> RBRIDGE_NICKNAME_MAXRES         (<a href='../S/485.html#L25' title='Defined at 25 in isisd/trilld.h.'>RBRIDGE_NICKNAME_MAX</a> - 1)
<a id='L30' name='L30'></a><em class='sharp'>#define</em> <a href='../R/3078.html' title='Multiple referred from 5 places.'>RBRIDGE_NICKNAME_UNUSED</a>         <a href='../S/485.html#L25' title='Defined at 25 in isisd/trilld.h.'>RBRIDGE_NICKNAME_MAX</a>
<a id='L31' name='L31'></a>
<a id='L32' name='L32'></a><em class='sharp'>#define</em> MIN_RBRIDGE_RANDOM_NICKNAME     (<a href='../S/485.html#L27' title='Defined at 27 in isisd/trilld.h.'>RBRIDGE_NICKNAME_NONE</a> + 1)
<a id='L33' name='L33'></a><em class='sharp'>#define</em> MAX_RBRIDGE_RANDOM_NICKNAME     (<a href='../S/485.html#L28' title='Defined at 28 in isisd/trilld.h.'>RBRIDGE_NICKNAME_MINRES</a> - 1)
<a id='L34' name='L34'></a>
<a id='L35' name='L35'></a><em class='comment'>/* IETF TRILL protocol defined constants */</em>
<a id='L36' name='L36'></a><em class='sharp'>#define</em> <a href='../S/516.html#L292' title='Referred from 292 in isisd/trilld.c.'>DFLT_NICK_PRIORITY</a> 0x40         <em class='comment'>/* Default priority for autogen nicks */</em>
<a id='L37' name='L37'></a><em class='sharp'>#define</em> DFLT_NICK_ROOT_PRIORITY 0x40    <em class='comment'>/* Default priority for autogen nicks */</em>
<a id='L38' name='L38'></a><em class='sharp'>#define</em> <a href='../R/531.html' title='Multiple referred from 4 places.'>CONFIGURED_NICK_PRIORITY</a> 0x80   <em class='comment'>/* MSB of priority set if nick is configured */</em>
<a id='L39' name='L39'></a><em class='sharp'>#define</em> CONFIGURED_NICK_ROOT_PRIORITY 0x80<em class='comment'>/* MSB of priority set if nick is configured */</em>
<a id='L40' name='L40'></a><em class='sharp'>#define</em> <a href='../R/1627.html' title='Multiple referred from 2 places.'>MIN_RBRIDGE_PRIORITY</a> 1          <em class='comment'>/* Min priority of use value */</em>
<a id='L41' name='L41'></a><em class='sharp'>#define</em> <a href='../S/516.html#L1643' title='Referred from 1643 in isisd/trilld.c.'>MAX_RBRIDGE_PRIORITY</a> 127        <em class='comment'>/* Max priority of use value */</em>
<a id='L42' name='L42'></a><em class='sharp'>#define</em> MIN_RBRIDGE_ROOT_PRIORITY 1     <em class='comment'>/* Min root priority of use value */</em>
<a id='L43' name='L43'></a><em class='sharp'>#define</em> MAX_RBRIDGE_ROOT_PRIORITY 65534 <em class='comment'>/* Max root priority of use value*/</em>
<a id='L44' name='L44'></a><em class='sharp'>#define</em> <a href='../R/1581.html' title='Multiple referred from 4 places.'>MAX_RBRIDGE_NODES</a> (<a href='../S/485.html#L25' title='Defined at 25 in isisd/trilld.h.'>RBRIDGE_NICKNAME_MAX</a> + 1) <em class='comment'>/* Max RBridges possible */</em>
<a id='L45' name='L45'></a><em class='sharp'>#define</em> TRILL_NICKNAME_LEN   2          <em class='comment'>/* 16-bit nickname */</em>
<a id='L46' name='L46'></a><em class='sharp'>#define</em> <a href='../R/3713.html' title='Multiple referred from 3 places.'>TRILL_DFLT_ROOT_PRIORITY</a> 0x40   <em class='comment'>/* Default tree root priority */</em>
<a id='L47' name='L47'></a>
<a id='L48' name='L48'></a><em class='comment'>/* trill_info status flags */</em>
<a id='L49' name='L49'></a><em class='sharp'>#define</em> <a href='../R/3699.html' title='Multiple referred from 5 places.'>TRILL_AUTONICK</a>       (1 &lt;&lt; 0)  <em class='comment'>/* nickname auto-generated (else user-provided) */</em>
<a id='L50' name='L50'></a><em class='sharp'>#define</em> TRILL_LSPDB_ACQUIRED (1 &lt;&lt; 1)  <em class='comment'>/* LSP DB acquired before autogen nick is advertised */</em>
<a id='L51' name='L51'></a><em class='sharp'>#define</em> <a href='../R/3719.html' title='Multiple referred from 4 places.'>TRILL_NICK_SET</a>       (1 &lt;&lt; 2)  <em class='comment'>/* nickname configured (random/user generated) */</em>
<a id='L52' name='L52'></a><em class='sharp'>#define</em> <a href='../R/3723.html' title='Multiple referred from 2 places.'>TRILL_PRIORITY_SET</a>   (1 &lt;&lt; 3)  <em class='comment'>/* nickname priority configured by user */</em>
<a id='L53' name='L53'></a><em class='sharp'>#define</em> <a href='../R/3724.html' title='Multiple referred from 5 places.'>TRILL_SPF_COMPUTED</a>   (1 &lt;&lt; 4)
<a id='L54' name='L54'></a><em class='sharp'>#define</em> <a href='../R/3726.html' title='Multiple referred from 2 places.'>TRILL_VNI_SUBTLV_MIN_LEN</a> 4
<a id='L55' name='L55'></a><em class='sharp'>#undef</em> <a href='../R/2040.html' title='Multiple referred from 18 places.'>NEW_KERNEL_RELEASE</a>
<a id='L56' name='L56'></a><strong class='reserved'>typedef</strong> u_char <a href='../S/485.html#L140' title='Referred from 140 in isisd/trilld.h.'>ether_addr_t</a>[6];
<a id='L57' name='L57'></a><em class='comment'>/* trill nickname structure */</em>
<a id='L58' name='L58'></a><strong class='reserved'>struct</strong> <a href='../R/10237.html' title='Multiple referred from 6 places.'>trill_nickname</a>
<a id='L59' name='L59'></a><em class='brace'>{</em>
<a id='L60' name='L60'></a>  <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a> <a href='../D/8153.html' title='Multiple defined in 5 places.'>name</a>;
<a id='L61' name='L61'></a>  <a href='../S/448.html#L8' title='Defined at 8 in ldpd/mpls_handle_type.h.'>uint8_t</a> priority;
<a id='L62' name='L62'></a>  <a href='../S/448.html#L8' title='Defined at 8 in ldpd/mpls_handle_type.h.'>uint8_t</a> pad;
<a id='L63' name='L63'></a><em class='brace'>}</em>;
<a id='L64' name='L64'></a>
<a id='L65' name='L65'></a><em class='comment'>/* trill structure */</em>
<a id='L66' name='L66'></a><strong class='reserved'>struct</strong> <a href='../R/10212.html' title='Multiple referred from 151 places.'>trill</a>
<a id='L67' name='L67'></a><em class='brace'>{</em>
<a id='L68' name='L68'></a>  <strong class='reserved'>struct</strong> <a href='../S/485.html#L58' title='Defined at 58 in isisd/trilld.h.'>trill_nickname</a> nick;   <em class='comment'>/* our nick */</em>
<a id='L69' name='L69'></a>  <a href='../S/448.html#L8' title='Defined at 8 in ldpd/mpls_handle_type.h.'>uint8_t</a> status;               <em class='comment'>/* status flags */</em>
<a id='L70' name='L70'></a>  <a href='../D/6334.html' title='Multiple defined in 2 places.'>dict_t</a> *nickdb;               <em class='comment'>/* TRILL nickname database */</em>
<a id='L71' name='L71'></a>  <a href='../D/6334.html' title='Multiple defined in 2 places.'>dict_t</a> *sysidtonickdb;        <em class='comment'>/* TRILL sysid-to-nickname database */</em>
<a id='L72' name='L72'></a>  <strong class='reserved'>struct</strong> <a href='../S/262.html#L37' title='Defined at 37 in lib/linklist.h.'>list</a> *fwdtbl;          <em class='comment'>/* RBridge forwarding table */</em>
<a id='L73' name='L73'></a>  <strong class='reserved'>struct</strong> <a href='../S/262.html#L37' title='Defined at 37 in lib/linklist.h.'>list</a> *adjnodes;        <em class='comment'>/* Adjacent nicks for our distrib tree */</em>
<a id='L74' name='L74'></a>  <strong class='reserved'>struct</strong> <a href='../S/262.html#L37' title='Defined at 37 in lib/linklist.h.'>list</a> *dt_roots;        <em class='comment'>/* Our choice of DT roots */</em>
<a id='L75' name='L75'></a>  <strong class='reserved'>char</strong> * <a href='../D/8153.html' title='Multiple defined in 5 places.'>name</a>;                  <em class='comment'>/* bridge name */</em>
<a id='L76' name='L76'></a>  <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a> root_priority;       <em class='comment'>/* Root tree priority */</em>
<a id='L77' name='L77'></a>  <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a>  tree_root;
<a id='L78' name='L78'></a>  <strong class='reserved'>struct</strong> <a href='../S/262.html#L37' title='Defined at 37 in lib/linklist.h.'>list</a> *configured_vni;  <em class='comment'>/* Configured VNI locally */</em>
<a id='L79' name='L79'></a>  <strong class='reserved'>struct</strong> <a href='../S/262.html#L37' title='Defined at 37 in lib/linklist.h.'>list</a> *supported_vni;   <em class='comment'>/* supported VNI*/</em>
<a id='L80' name='L80'></a>  <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a> root_count;
<a id='L81' name='L81'></a><em class='brace'>}</em>;
<a id='L82' name='L82'></a>
<a id='L83' name='L83'></a><em class='comment'>/* TRILL nickname information (node-specific) */</em>
<a id='L84' name='L84'></a><strong class='reserved'>typedef</strong> <strong class='reserved'>struct</strong> nickinfo
<a id='L85' name='L85'></a><em class='brace'>{</em>
<a id='L86' name='L86'></a>  <strong class='reserved'>struct</strong> <a href='../S/485.html#L58' title='Defined at 58 in isisd/trilld.h.'>trill_nickname</a> nick;   <em class='comment'>/* Nick of the node  */</em>
<a id='L87' name='L87'></a>  u_char sysid[<a href='../S/518.html#L137' title='Defined at 137 in isisd/isis_constants.h.'>ISIS_SYS_ID_LEN</a>];<em class='comment'>/* NET/sysid of node */</em>
<a id='L88' name='L88'></a>  <a href='../S/448.html#L8' title='Defined at 8 in ldpd/mpls_handle_type.h.'>uint8_t</a> <a href='../S/497.html#L34' title='Defined at 34 in isisd/isis_flags.h.'>flags</a>;                <em class='comment'>/* TRILL flags advertised by node */</em>
<a id='L89' name='L89'></a>  <strong class='reserved'>struct</strong> <a href='../S/262.html#L37' title='Defined at 37 in lib/linklist.h.'>list</a> *dt_roots;        <em class='comment'>/* Distrib. Trees chosen by node */</em>
<a id='L90' name='L90'></a>  <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a> root_priority;       <em class='comment'>/* Root tree priority */</em>
<a id='L91' name='L91'></a>  <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a> root_count;          <em class='comment'>/* Root tree count */</em>
<a id='L92' name='L92'></a>  <a href='../S/448.html#L8' title='Defined at 8 in ldpd/mpls_handle_type.h.'>uint8_t</a> vni_count;
<a id='L93' name='L93'></a>  <strong class='reserved'>struct</strong> <a href='../S/262.html#L37' title='Defined at 37 in lib/linklist.h.'>list</a> *supported_vni;   <em class='comment'>/* supported VNI*/</em>
<a id='L94' name='L94'></a><em class='brace'>}</em> <a href='../R/7386.html' title='Multiple referred from 19 places.'>nickinfo_t</a>;
<a id='L95' name='L95'></a>
<a id='L96' name='L96'></a><em class='comment'>/* Nickname database node */</em>
<a id='L97' name='L97'></a><strong class='reserved'>typedef</strong> <strong class='reserved'>struct</strong> trill_nickdb_node
<a id='L98' name='L98'></a><em class='brace'>{</em>
<a id='L99' name='L99'></a>  <a href='../S/485.html#L94' title='Defined at 94 in isisd/trilld.h.'>nickinfo_t</a> info;      <em class='comment'>/* Nick info of the node */</em>
<a id='L100' name='L100'></a>  <em class='comment'>/* RBridge distribution tree with this nick as root */</em>
<a id='L101' name='L101'></a>  <strong class='reserved'>struct</strong> <a href='../S/486.html#L64' title='Defined at 64 in isisd/isis_spf.h.'>isis_spftree</a> *rdtree;
<a id='L102' name='L102'></a>  <em class='comment'>/* Our (host RBridge) adjacent nicks on this distrib tree */</em>
<a id='L103' name='L103'></a>  <strong class='reserved'>struct</strong> <a href='../S/262.html#L37' title='Defined at 37 in lib/linklist.h.'>list</a> *adjnodes;
<a id='L104' name='L104'></a>  <a href='../S/448.html#L10' title='Defined at 10 in ldpd/mpls_handle_type.h.'>uint32_t</a> refcnt;
<a id='L105' name='L105'></a><em class='brace'>}</em> <a href='../R/7388.html' title='Multiple referred from 30 places.'>nicknode_t</a>;
<a id='L106' name='L106'></a>
<a id='L107' name='L107'></a><strong class='reserved'>typedef</strong> <strong class='reserved'>struct</strong> nickfwdtable_node
<a id='L108' name='L108'></a><em class='brace'>{</em>
<a id='L109' name='L109'></a>  <a href='../S/191.html#L32' title='Defined at 32 in lib/zebra.h.'>u_int16_t</a> dest_nick;               <em class='comment'>/* destination RBridge nick */</em>
<a id='L110' name='L110'></a>  u_char adj_snpa[<a href='../S/518.html#L175' title='Defined at 175 in isisd/isis_constants.h.'>ETH_ALEN</a>];         <em class='comment'>/* MAC address of the adj node */</em>
<a id='L111' name='L111'></a>  <strong class='reserved'>struct</strong> <a href='../S/252.html#L72' title='Defined at 72 in lib/if.h.'>interface</a> *<a href='../S/252.html#L72' title='Defined at 72 in lib/if.h.'>interface</a>;       <em class='comment'>/* if to reach the adj/neigh */</em>
<a id='L112' name='L112'></a><em class='brace'>}</em> <a href='../R/7385.html' title='Multiple referred from 9 places.'>nickfwdtblnode_t</a>;
<a id='L113' name='L113'></a><em class='comment'>/* Constants used in nickname generation/allocation */</em>
<a id='L114' name='L114'></a><em class='sharp'>#define</em> <a href='../S/485.html#L120' title='Referred from 120 in isisd/trilld.h.'>NICKNAMES_BITARRAY_SIZE</a> (<a href='../S/485.html#L44' title='Defined at 44 in isisd/trilld.h.'>MAX_RBRIDGE_NODES</a> / 8) <em class='comment'>/* nick usage array */</em>
<a id='L115' name='L115'></a><em class='sharp'>#define</em> <a href='../R/468.html' title='Multiple referred from 2 places.'>CLEAR_BITARRAY_ENTRYLEN</a> 4         <em class='comment'>/* stores nicks available per 32 nicks in nick bitarray */</em>
<a id='L116' name='L116'></a><em class='sharp'>#define</em> <a href='../R/469.html' title='Multiple referred from 6 places.'>CLEAR_BITARRAY_ENTRYLENBITS</a> (4*8)  <em class='comment'>/* 32 nicks tracked in each entry */</em>
<a id='L117' name='L117'></a><em class='sharp'>#define</em> <a href='../S/485.html#L118' title='Referred from 118 in isisd/trilld.h.'>CLEAR_BITARRAY_SIZE</a> (<a href='../S/485.html#L44' title='Defined at 44 in isisd/trilld.h.'>MAX_RBRIDGE_NODES</a> / <a href='../S/485.html#L116' title='Defined at 116 in isisd/trilld.h.'>CLEAR_BITARRAY_ENTRYLENBITS</a>)
<a id='L118' name='L118'></a><strong class='reserved'>static</strong> u_char clear_bit_count[<a href='../S/485.html#L117' title='Defined at 117 in isisd/trilld.h.'>CLEAR_BITARRAY_SIZE</a>];
<a id='L119' name='L119'></a><em class='comment'>/* nickname routines */</em>
<a id='L120' name='L120'></a><strong class='reserved'>static</strong> u_char nickbitvector[<a href='../S/485.html#L114' title='Defined at 114 in isisd/trilld.h.'>NICKNAMES_BITARRAY_SIZE</a>];
<a id='L121' name='L121'></a><em class='sharp'>#define</em> <a href='../R/2049.html' title='Multiple referred from 3 places.'>NICK_IS_USED</a>(n)         (nickbitvector[(n)/8] &amp; (1&lt;&lt;((n)%8)))
<a id='L122' name='L122'></a><em class='sharp'>#define</em> <a href='../R/2050.html' title='Multiple referred from 3 places.'>NICK_SET_USED</a>(n)        (nickbitvector[(n)/8] |= (1&lt;&lt;((n)%8)))
<a id='L123' name='L123'></a><em class='sharp'>#define</em> <a href='../S/516.html#L135' title='Referred from 135 in isisd/trilld.c.'>NICK_CLR_USED</a>(n)        (nickbitvector[(n)/8] &amp;= ~(1&lt;&lt;((n)%8)))
<a id='L124' name='L124'></a><em class='sharp'>#define</em> <a href='../R/1628.html' title='Multiple referred from 3 places.'>MIN_ROOT_COUNT</a>  1
<a id='L125' name='L125'></a>
<a id='L126' name='L126'></a><em class='sharp'>#define</em> <a href='../R/18.html' title='Multiple referred from 8 places.'>AF_TRILL</a>        31
<a id='L127' name='L127'></a><strong class='reserved'>typedef</strong> <strong class='reserved'>enum</strong>
<a id='L128' name='L128'></a><em class='brace'>{</em>
<a id='L129' name='L129'></a>  <a href='../R/2082.html' title='Multiple referred from 2 places.'>NOTFOUND</a> = 1,
<a id='L130' name='L130'></a>  <a href='../R/758.html' title='Multiple referred from 2 places.'>FOUND</a>,
<a id='L131' name='L131'></a>  <a href='../R/688.html' title='Multiple referred from 3 places.'>DUPLICATE</a>,
<a id='L132' name='L132'></a>  <a href='../R/2047.html' title='Multiple referred from 2 places.'>NICK_CHANGED</a>,
<a id='L133' name='L133'></a>  PRIORITY_CHANGE_ONLY
<a id='L134' name='L134'></a><em class='brace'>}</em> <a href='../R/7384.html' title='Multiple referred from 3 places.'>nickdb_search_result</a>;
<a id='L135' name='L135'></a>
<a id='L136' name='L136'></a><strong class='reserved'>typedef</strong> <strong class='reserved'>struct</strong> trill_nickinfo_s <em class='brace'>{</em>
<a id='L137' name='L137'></a>  <em class='comment'>/* Nickname of the RBridge */</em>
<a id='L138' name='L138'></a>  <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a>      tni_nick;
<a id='L139' name='L139'></a>  <em class='comment'>/* Next-hop SNPA address to reach this RBridge */</em>
<a id='L140' name='L140'></a>  <a href='../S/485.html#L56' title='Defined at 56 in isisd/trilld.h.'>ether_addr_t</a>  tni_adjsnpa;
<a id='L141' name='L141'></a>  <em class='comment'>/* Link on our system to use to reach next-hop */</em>
<a id='L142' name='L142'></a>  <a href='../S/448.html#L10' title='Defined at 10 in ldpd/mpls_handle_type.h.'>uint32_t</a>      tni_linkid;
<a id='L143' name='L143'></a>  <em class='comment'>/* Num of *our* adjacencies on a tree rooted at this RBridge */</em>
<a id='L144' name='L144'></a>  <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a>      tni_adjcount;
<a id='L145' name='L145'></a>  <em class='comment'>/* Num of distribution tree root nicks chosen by this RBridge */</em>
<a id='L146' name='L146'></a>  <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a>      tni_dtrootcount;
<a id='L147' name='L147'></a>  <em class='comment'>/* Num of vni supported by this RBridge  */</em>
<a id='L148' name='L148'></a><em class='sharp'>#ifdef</em> <a href='../S/485.html#L55' title='Defined at 55 in isisd/trilld.h.'>NEW_KERNEL_RELEASE</a>
<a id='L149' name='L149'></a>  <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a>      tni_vnicount;
<a id='L150' name='L150'></a><em class='sharp'>#endif</em>
<a id='L151' name='L151'></a>  <em class='comment'>/* Num of vlan supported by this RBridge  */</em>
<a id='L152' name='L152'></a>  <em class='comment'>/* Variable size bytes to store adjacency nicks, distribution</em>
<a id='L153' name='L153'></a><em class='comment'>   * tree roots. Adjacency nicks and distribution tree roots are</em>
<a id='L154' name='L154'></a><em class='comment'>   * 16-bit fields.</em>
<a id='L155' name='L155'></a><em class='comment'>   */</em>
<a id='L156' name='L156'></a><em class='brace'>}</em> <a href='../R/10236.html' title='Multiple referred from 6 places.'>trill_nickinfo_t</a>;
<a id='L157' name='L157'></a>
<a id='L158' name='L158'></a><em class='comment'>/* Access the adjacency nick list at the end of trill_nickinfo_t */</em>
<a id='L159' name='L159'></a><em class='sharp'>#define</em> <a href='../R/3684.html' title='Multiple referred from 2 places.'>TNI_ADJNICKSPTR</a>(v) ((<a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a> *)((<a href='../S/485.html#L156' title='Defined at 156 in isisd/trilld.h.'>trill_nickinfo_t</a> *)(v)+1))
<a id='L160' name='L160'></a><em class='sharp'>#define</em> <a href='../S/516.html#L923' title='Referred from 923 in isisd/trilld.c.'>TNI_ADJNICK</a>(v, n) (<a href='../S/485.html#L159' title='Defined at 159 in isisd/trilld.h.'>TNI_ADJNICKSPTR</a>(v)[(n)])
<a id='L161' name='L161'></a>
<a id='L162' name='L162'></a><em class='comment'>/* Access the DT root nick list in trill_nickinfo_t after adjacency nicks */</em>
<a id='L163' name='L163'></a><em class='sharp'>#define</em> <a href='../R/3686.html' title='Multiple referred from 2 places.'>TNI_DTROOTNICKSPTR</a>(v) ((<a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a> *)(<a href='../S/485.html#L159' title='Defined at 159 in isisd/trilld.h.'>TNI_ADJNICKSPTR</a>(v)+(v)-&gt;tni_adjcount))
<a id='L164' name='L164'></a><em class='sharp'>#define</em> <a href='../S/516.html#L931' title='Referred from 931 in isisd/trilld.c.'>TNI_DTROOTNICK</a>(v, n)  (<a href='../S/485.html#L163' title='Defined at 163 in isisd/trilld.h.'>TNI_DTROOTNICKSPTR</a>(v)[(n)])
<a id='L165' name='L165'></a>
<a id='L166' name='L166'></a><em class='comment'>/*</em>
<a id='L167' name='L167'></a><em class='comment'> * Acess vni list in trill_nickinfo_t after DT Roots</em>
<a id='L168' name='L168'></a><em class='comment'> * we cast TNI_VNIPTR to uint32_t pointer</em>
<a id='L169' name='L169'></a><em class='comment'> * to get correct value in TNI_VNI  (vni are 32bit size))</em>
<a id='L170' name='L170'></a><em class='comment'> */</em>
<a id='L171' name='L171'></a><em class='sharp'>#define</em> <a href='../S/485.html#L173' title='Referred from 173 in isisd/trilld.h.'>TNI_VNIPTR</a>(v)   ((<a href='../S/448.html#L10' title='Defined at 10 in ldpd/mpls_handle_type.h.'>uint32_t</a>*)((<a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a> *)\
<a id='L172' name='L172'></a>                        (<a href='../S/485.html#L163' title='Defined at 163 in isisd/trilld.h.'>TNI_DTROOTNICKSPTR</a>(v)+(v)-&gt;tni_dtrootcount)))
<a id='L173' name='L173'></a><em class='sharp'>#define</em> <a href='../S/516.html#L939' title='Referred from 939 in isisd/trilld.c.'>TNI_VNI</a>(v,n)    ((<a href='../S/485.html#L171' title='Defined at 171 in isisd/trilld.h.'>TNI_VNIPTR</a>(v))[(n)])
<a id='L174' name='L174'></a>
<a id='L175' name='L175'></a><em class='sharp'>#ifdef</em> <a href='../S/485.html#L55' title='Defined at 55 in isisd/trilld.h.'>NEW_KERNEL_RELEASE</a>
<a id='L176' name='L176'></a><em class='sharp'>#define</em> TNI_TOTALSIZE(v) (<strong class='reserved'>sizeof</strong> (<a href='../S/485.html#L156' title='Defined at 156 in isisd/trilld.h.'>trill_nickinfo_t</a>) + \
<a id='L177' name='L177'></a>        (<strong class='reserved'>sizeof</strong> (<a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a>) * (v)-&gt;tni_adjcount) + \
<a id='L178' name='L178'></a>        (<strong class='reserved'>sizeof</strong> (<a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a>) * (v)-&gt;tni_dtrootcount) + \
<a id='L179' name='L179'></a>        (<strong class='reserved'>sizeof</strong> (<a href='../S/448.html#L10' title='Defined at 10 in ldpd/mpls_handle_type.h.'>uint32_t</a>) * (v)-&gt;tni_vnicount))
<a id='L180' name='L180'></a><em class='sharp'>#else</em>
<a id='L181' name='L181'></a><em class='sharp'>#define</em> TNI_TOTALSIZE(v) (<strong class='reserved'>sizeof</strong> (<a href='../S/485.html#L156' title='Defined at 156 in isisd/trilld.h.'>trill_nickinfo_t</a>) + \
<a id='L182' name='L182'></a>(<strong class='reserved'>sizeof</strong> (<a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a>) * (v)-&gt;tni_adjcount) + \
<a id='L183' name='L183'></a>(<strong class='reserved'>sizeof</strong> (<a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a>) * (v)-&gt;tni_dtrootcount)
<a id='L184' name='L184'></a><em class='sharp'>#endif</em>
<a id='L185' name='L185'></a><em class='comment'>/* trilld.c */</em>
<a id='L186' name='L186'></a><strong class='reserved'>void</strong> <a href='../D/11136.html' title='Multiple defined in 2 places.'>trill_area_init</a>(<strong class='reserved'>struct</strong> <a href='../S/510.html#L84' title='Defined at 84 in isisd/isisd.h.'>isis_area</a> *area);
<a id='L187' name='L187'></a><strong class='reserved'>void</strong> <a href='../D/11135.html' title='Multiple defined in 2 places.'>trill_area_free</a>(<strong class='reserved'>struct</strong> <a href='../S/510.html#L84' title='Defined at 84 in isisd/isisd.h.'>isis_area</a> *area);
<a id='L188' name='L188'></a><a href='../S/485.html#L105' title='Defined at 105 in isisd/trilld.h.'>nicknode_t</a> * <a href='../D/11165.html' title='Multiple defined in 2 places.'>trill_nicknode_lookup</a>(<strong class='reserved'>struct</strong> <a href='../S/510.html#L84' title='Defined at 84 in isisd/isisd.h.'>isis_area</a> *area,
<a id='L189' name='L189'></a>                                   <a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a> nick);
<a id='L190' name='L190'></a><strong class='reserved'>int</strong> <a href='../D/11108.html' title='Multiple defined in 2 places.'>tlv_add_trill_nickname</a> (<strong class='reserved'>struct</strong> <a href='../S/485.html#L58' title='Defined at 58 in isisd/trilld.h.'>trill_nickname</a> *nick_info,
<a id='L191' name='L191'></a>                            <strong class='reserved'>struct</strong> <a href='../S/284.html#L95' title='Defined at 95 in lib/stream.h.'>stream</a> *<a href='../S/284.html#L95' title='Defined at 95 in lib/stream.h.'>stream</a>, <strong class='reserved'>struct</strong> <a href='../S/510.html#L84' title='Defined at 84 in isisd/isisd.h.'>isis_area</a> *area);
<a id='L192' name='L192'></a><strong class='reserved'>void</strong> <a href='../D/11170.html' title='Multiple defined in 2 places.'>trill_process_spf</a> (<strong class='reserved'>struct</strong> <a href='../S/510.html#L84' title='Defined at 84 in isisd/isisd.h.'>isis_area</a> *area);
<a id='L193' name='L193'></a><strong class='reserved'>void</strong> <a href='../D/11168.html' title='Multiple defined in 2 places.'>trill_parse_router_capability_tlvs</a> (<strong class='reserved'>struct</strong> <a href='../S/510.html#L84' title='Defined at 84 in isisd/isisd.h.'>isis_area</a> *,
<a id='L194' name='L194'></a>                                         <strong class='reserved'>struct</strong> <a href='../S/501.html#L31' title='Defined at 31 in isisd/isis_lsp.h.'>isis_lsp</a> *);
<a id='L195' name='L195'></a>
<a id='L196' name='L196'></a><strong class='reserved'>int</strong> <a href='../D/11137.html' title='Multiple defined in 2 places.'>trill_area_nickname</a>(<strong class='reserved'>struct</strong> <a href='../S/510.html#L84' title='Defined at 84 in isisd/isisd.h.'>isis_area</a> *area, <a href='../S/191.html#L32' title='Defined at 32 in lib/zebra.h.'>u_int16_t</a> nickname);
<a id='L197' name='L197'></a><strong class='reserved'>void</strong> <a href='../D/11148.html' title='Multiple defined in 2 places.'>trill_init</a>();
<a id='L198' name='L198'></a><a href='../S/448.html#L9' title='Defined at 9 in ldpd/mpls_handle_type.h.'>uint16_t</a> <a href='../D/6602.html' title='Multiple defined in 2 places.'>get_root_nick</a>(<strong class='reserved'>struct</strong> <a href='../S/510.html#L84' title='Defined at 84 in isisd/isisd.h.'>isis_area</a> *area);
<a id='L199' name='L199'></a><strong class='reserved'>void</strong> <a href='../D/11150.html' title='Multiple defined in 2 places.'>trill_nick_destroy</a>(<strong class='reserved'>struct</strong> <a href='../S/501.html#L31' title='Defined at 31 in isisd/isis_lsp.h.'>isis_lsp</a> *lsp);
<a id='L200' name='L200'></a><em class='comment'>/* trill_vni.c */</em>
<a id='L201' name='L201'></a><strong class='reserved'>extern</strong> <strong class='reserved'>int</strong> <a href='../S/487.html#L99' title='Defined at 99 in isisd/trill_vni.c.'>generate_supported_vni</a>(<strong class='reserved'>struct</strong> <a href='../S/510.html#L84' title='Defined at 84 in isisd/isisd.h.'>isis_area</a> *area);
<a id='L202' name='L202'></a>
<a id='L203' name='L203'></a><em class='sharp'>#endif</em>
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM'></a>
<em class='comment'>/* [&lt;][&gt;][^][v]<a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
</body>
</html>
